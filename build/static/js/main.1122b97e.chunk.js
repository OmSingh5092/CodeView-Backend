(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{120:function(e,t,n){e.exports=n.p+"static/media/google.1b943d72.png"},121:function(e,t,n){e.exports=n.p+"static/media/user.a48aca27.png"},122:function(e,t,n){e.exports=n.p+"static/media/coding.4b817883.png"},140:function(e,t,n){e.exports=n(205)},145:function(e,t,n){},146:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},147:function(e,t,n){},187:function(e,t){},205:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(14),l=n.n(r),i=(n(145),n(146),n(147),n(275)),c=n(125),s=n(84),u=n(234),m=Object(c.a)({palette:{primary:s.a,secondary:u.a},typography:{fontFamily:"'Roboto-Medium','Roboto-Black'"}}),d=n(5),f=n(20),E=n(17),p="41880489918-ff5sebqstbkdjru2po7gmgsepqhnuio7.apps.googleusercontent.com",g="https://code-view.herokuapp.com/api",v="https://code-view.herokuapp.com",y=n(73),h=n.n(y),x=n(280),b=n(245),C=n(246),w=n(247),j=n(244),S=(n(63),n(278)),O=n(238),k=n(283),I=n(282),T=n(240),R=n(241),D=n(242),P=n(243);var G=function(e){var t=e.onSubmit,n={email:"",password:""},a=o.a.useState(!1),r=Object(d.a)(a,2),l=r[0],i=r[1];return o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement(S.a,{style:{marginTop:10},label:"Email",variant:"outlined",onChange:function(e){n.email=e.target.value}}),o.a.createElement(O.a,{variant:"outlined",style:{marginTop:10}},o.a.createElement(k.a,null,"Password"),o.a.createElement(I.a,{type:l?"text":"password",onChange:function(e){n.password=e.target.value},endAdornment:o.a.createElement(T.a,{position:"end"},o.a.createElement(R.a,{onClick:function(){return i(!l)},edge:"end"},l?o.a.createElement(D.a,null):o.a.createElement(P.a,null)))})),o.a.createElement(j.a,{style:{marginTop:10},onClick:function(){return t(n)},variant:"contained",color:"primary"},"Login"))},_={googleSignIn:g+"/signin/interviewer/google",emailSignIn:g+"/signin/interviewer/email"},A={getOwnProfile:g+"/interviewer/profile",getOthersProfile:g+"/interviewer/profile/others",updateProfile:g+"/interviewer/update"},N={createRoom:g+"/room/create",checkRoom:g+"/room/check",checkInterviewer:g+"/room/check/interviewer",getRoom:g+"/room/get",getRoomsByInterviewer:g+"/room/get/interviewer",addInterviewer:g+"/room/add/interviewer",removeInterviewer:g+"/room/remove/interviewer"},J={getCandidate:g+"/candidate/profile",createCandidate:g+"/candidate/create",updateCandidate:g+"/candidate/update"},L={getChats:g+"/chat/chats/room"},W={getNotes:g+"/notes/get",updateNotes:g+"/notes/update"},z=function(){var e={userExists:!1,tokenExists:!1,idToken:"",email:"",profile:{}};return e.idToken=localStorage.getItem("token"),e.profile=JSON.parse(localStorage.getItem("profile")),e.email=localStorage.getItem("email"),e.profile&&(e.userExists=!0),e.idToken&&(e.tokenExists=!0),{setProfileData:function(t){e.profile=t,localStorage.setItem("profile",JSON.stringify(t)),e.userExists=!0},getProfileData:function(){return e.profile},setToken:function(t){e.idToken=t,localStorage.setItem("token",t),e.tokenExists=!0},getToken:function(){return e.idToken},setEmail:function(t){e.email=t,localStorage.setItem("email",t)},getEmail:function(){return e.email},userExists:function(){return e.userExists},tokenExists:function(){return e.tokenExists},clearUser:function(){localStorage.removeItem("token"),localStorage.removeItem("profile"),localStorage.removeItem("email"),e.tokenExists=!1,e.userExists=!1}}}(),B=function(){var e={roomExists:!1,candidateExists:!1,roomId:"",candidateId:""};return e.roomId=localStorage.getItem("roomId"),e.candidateId=localStorage.getItem("candidateId"),e.roomId&&(e.roomExists=!0),e.candidateId&&(e.candidateExists=!0),{setRoomId:function(t){e.roomId=t,localStorage.setItem("roomId",t),e.roomExists=!0},getRoomId:function(){return e.roomId},setCandidateId:function(t){e.candidateId=t,localStorage.setItem("candidateId",t),e.candidateExists=!0},getCandidateId:function(){return e.candidateId},candidateExists:function(){return e.candidateExists},roomExists:function(){return e.roomExists},clearCandidate:function(){localStorage.removeItem("roomId"),localStorage.removeItem("candidateId"),e.candidateExists=!1,e.roomExists=!1}}}(),F=function(e){return fetch(N.getRoom,{method:"GET",headers:{id:e,"Content-Type":"application/json"}})};var q=Object(E.h)((function(e){e.onSubmit;var t=o.a.useState({}),n=Object(d.a)(t,2),a=n[0],r=n[1],l=o.a.useState(!1),i=Object(d.a)(l,2),c=i[0],s=i[1];return o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement(S.a,{style:{marginTop:10},label:"Room Id",variant:"outlined",onChange:function(e){var t=JSON.parse(JSON.stringify(a));t.room=e.target.value,r(t)}}),o.a.createElement(O.a,{variant:"outlined",style:{marginTop:10}},o.a.createElement(k.a,null,"Password"),o.a.createElement(I.a,{type:c?"text":"password",onChange:function(e){var t=JSON.parse(JSON.stringify(a));t.password=e.target.value,r(t)},endAdornment:o.a.createElement(T.a,{position:"end"},o.a.createElement(R.a,{onClick:function(){return s(!c)},edge:"end"},c?o.a.createElement(D.a,null):o.a.createElement(P.a,null)))})),o.a.createElement(j.a,{style:{marginTop:10},onClick:function(){console.log("Data",a),function(e){var t={method:"GET",headers:{room:e.room,password:e.password,"Content-Type":"application/json"}};return fetch(N.checkRoom,t)}(a).then((function(e){return e.json()})).then((function(t){console.log("Response",t),t.success&&t.verified&&(B.setRoomId(a.room),e.history.push("/joinRoom"))})).catch((function(e){console.log("Error",e)}))},variant:"contained",color:"secondary"},"Join Room"))})),U=n(95),M=n(129),V=n(120),H=n.n(V),Y=n(80);var K=function(e){var t=e.onSuccess,n=e.onFailure;return o.a.createElement("div",null,o.a.createElement(Y.GoogleLogin,{render:function(e){return o.a.createElement(U.a,{onClick:e.onClick},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",margin:20}},o.a.createElement("img",{src:H.a,style:{height:20,width:20}}),o.a.createElement(M.a,{style:{marginLeft:10}},"SignIn with Google")))},onSuccess:t,onFailure:n,clientId:p,cookiePolicy:"single_host_origin"}))};var X=function(e){return z.userExists()?o.a.createElement(E.a,{to:"/interviewer"}):z.tokenExists()?o.a.createElement(E.a,{to:"/register"}):B.roomExists()?o.a.createElement(E.a,{to:"/joinRoom"}):o.a.createElement(E.a,{to:"/"})},Z=function(e){console.log("Data",JSON.stringify(e));var t={method:"POST",headers:{token:z.getToken(),"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch(A.updateProfile,t)},$=function(){var e={method:"GET",headers:{token:z.getToken(),"Content-Type":"application/json"}};return fetch(A.getOwnProfile,e)},Q=function(e){return fetch(A.getOthersProfile,{method:"GET",headers:{id:e,"Content-Type":"application/json"}})},ee=Object(E.h)((function(e){var t=e.isOpen,n=e.onClose;return o.a.createElement(x.a,{open:t,onClose:n},o.a.createElement(b.a,null,"Sign In As An Interviewer"),o.a.createElement(C.a,{style:{margin:20}},o.a.createElement("div",null,o.a.createElement(G,{onSubmit:function(e){}}))),o.a.createElement("div",{style:{margin:"auto"}},o.a.createElement(K,{onSuccess:function(t){var n=t.profileObj;console.log("Login"),function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:e.tokenId})};return fetch(_.googleSignIn,t)}(t).then((function(e){return e.json()})).then((function(t){console.log("login successfull"),t.success?(z.setToken(t.jwt),z.setEmail(n.email),t.newUser?e.history.push("/register"):(console.log(z.getToken()),$().then((function(e){return e.json()})).then((function(t){t.success?(z.setProfileData(t.profile),e.history.push("/interviewer")):console.log(t.msg)})))):console.log(t.msg)})).catch((function(e){console.log("Error",e)}))},onFailure:function(e){console.log("Error",e)}})),o.a.createElement(w.a,null,o.a.createElement(j.a,{onClick:n},"Cancle")))})),te=Object(E.h)((function(e){var t=e.isOpen,n=e.onClose;return o.a.createElement(x.a,{open:t,onClose:n,style:{margin:20}},o.a.createElement(b.a,null,"Please enter the details"),o.a.createElement(C.a,{style:{margin:20}},o.a.createElement("div",null,o.a.createElement(q,null))),o.a.createElement(w.a,null,o.a.createElement(j.a,{onClick:n},"Cancle")))}));var ne=Object(E.h)((function(e){var t=o.a.useState(!1),n=Object(d.a)(t,2),a=n[0],r=n[1],l=o.a.useState(!1),i=Object(d.a)(l,2),c=i[0],s=i[1];return o.a.createElement("div",{className:"body"},o.a.createElement(X,null),o.a.createElement("div",{style:{fontSize:50,fontFamily:"Roboto-Black",textAlign:"center"}},"Welcome! to CodeView"),o.a.createElement("br",null),o.a.createElement("div",{style:{textAlign:"center"}},"Best online solution for taking coding interviews."),o.a.createElement("div",{style:{flexGrow:1,flexDirection:"row",alignContent:"center",margin:"auto",marginTop:40}},o.a.createElement(j.a,{color:"primary",variant:"contained",style:{margin:20},onClick:function(){return r(!0)}},"Sign in as interviewer"),o.a.createElement(j.a,{color:"secondary",variant:"contained",style:{margin:20},onClick:function(){return s(!0)}},"Join interview room")),o.a.createElement(ee,{isOpen:a,onClose:function(){return r(!1)}}),o.a.createElement(te,{isOpen:c,onClose:function(){return s(!1)}}))})),ae=n(235),oe=n(248),re=n(281);h.a.initializeApp({apiKey:"AIzaSyDXXNwj9yIB_o0FpGd3txLeBBvU_MfnhZM",authDomain:"codeview-b41a7.firebaseapp.com",databaseURL:"https://codeview-b41a7.firebaseio.com",projectId:"codeview-b41a7",storageBucket:"codeview-b41a7.appspot.com",messagingSenderId:"41880489918",appId:"1:41880489918:web:79e07ec87d00fe420673ef",measurementId:"G-91HW2VKV8V"});var le=h.a.storage().ref(),ie=function(e,t){return le.child(t).put(e)},ce=function(e){return le.child(e).getDownloadURL()},se=n(121),ue=n.n(se);function me(e){var t=e.onUpload,n=(e.uploadState,e.path),r=o.a.useState(!1),l=Object(d.a)(r,2),i=l[0],c=l[1],s=o.a.useState(ue.a),u=Object(d.a)(s,2),m=u[0],f=u[1],E=o.a.useState(!1),p=Object(d.a)(E,2),g=p[0],v=p[1];Object(a.useEffect)((function(){""!=n&&ce(n).then((function(e){console.log("URL",e),f(e)}))}),[1]);return o.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},o.a.createElement("div",null,o.a.createElement("img",{src:m,style:{height:140,width:140,borderRadius:70,outlineColor:"#000000"}})),o.a.createElement("div",{style:{display:"flex",alignContent:"center",flexWrap:"wrap",marginLeft:40}},o.a.createElement(ae.a,{type:"file",onChange:function(e){f(URL.createObjectURL(e.target.files[0]));var n=e.target.files[0];c(!0);var a="profile/"+z.getEmail()+"/profileImage.jpg";ie(n,a).then((function(e){c(!1),console.log("Upload Successfull!"),t(a)})).catch((function(e){console.log("Error",e)}))}}),i?o.a.createElement(oe.a,null):o.a.createElement("div",null)),o.a.createElement(re.a,{open:g,autoHideDuration:6e3,onClose:function(){v(!1)}},"Upload Successfull"))}var de=function(e){var t=e.onSubmit,n=e.data,a=o.a.useState(!1),r=Object(d.a)(a,2),l=r[0];return r[1],o.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexWrap:"wrap"}},o.a.createElement(me,{path:n.photo,onUpload:function(e){n.photo=e},uploadState:l}),o.a.createElement(S.a,{style:{marginTop:20},variant:"outlined",label:"Name",defaultValue:n.name,onChange:function(e){n.name=e.target.value}}),o.a.createElement(S.a,{style:{marginTop:20},variant:"outlined",label:"Phone",defaultValue:n.phone,onChange:function(e){n.phone=e.target.value}}),o.a.createElement(S.a,{style:{marginTop:20},variant:"outlined",label:"Company or Organisation",defaultValue:n.company,onChange:function(e){n.company=e.target.value}}),o.a.createElement(S.a,{style:{marginTop:20},variant:"outlined",label:"Website",defaultValue:n.website,onChange:function(e){n.website=e.target.value}}),o.a.createElement("div",{style:{flexGrow:1}},o.a.createElement(j.a,{variant:"contained",color:"primary",style:{marginTop:30},onClick:function(){t()}},"Submit")))};var fe=Object(E.h)((function(e){var t=o.a.useState(!1),n=Object(d.a)(t,2),a=n[0],r=n[1],l=o.a.useState(""),i=Object(d.a)(l,2),c=i[0],s=(i[1],{name:"",phone:"",company:"",website:"",photo:""});return o.a.createElement("div",{className:"root",style:{flexWrap:"wrap"}},o.a.createElement(X,null),o.a.createElement("div",{style:{fontFamily:"Roboto-Black",fontSize:50,textAlign:"center"}},"Please enter the details."),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexWrap:"wrap",margin:"auto",alignContent:"center",marginTop:40}},o.a.createElement(de,{data:s,onSubmit:function(){console.log("Token",z.getToken()),Z(s).then((function(e){return e.json()})).then((function(e){return $().then((function(e){return e.json()}))})).then((function(t){t.success?(console.log("Response",t),z.setProfileData(t.profile),z.userExists(!0),e.history.push("/interviewer")):console.log("Error",t.msg)})).catch((function(e){console.log("Error",e)}))}})),o.a.createElement(re.a,{open:a,message:c,onClose:function(){r(!1)}}))})),Ee=n(83),pe=n(126),ge=n(255),ve=n(256),ye=n(260),he=n(257),xe=n(258),be=n(259),Ce=n(261),we=n(122),je=n.n(we),Se=n(253),Oe=n(93),ke=n(284),Ie=n(285),Te=n(249),Re=n(250),De=n(251);var Pe=Object(E.h)((function(e){e.onSubmit;var t,n=e.data,a=o.a.useState([]),r=Object(d.a)(a,2),l=r[0],i=r[1],c=o.a.useState(""),s=Object(d.a)(c,2),u=s[0],m=s[1],f=o.a.useState(""),E=Object(d.a)(f,2),p=E[0],g=E[1],v=o.a.useState(!1),y=Object(d.a)(v,2),h=y[0],x=y[1];return o.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexWrap:"wrap"}},o.a.createElement(M.a,{variant:"h4"},"Please enter the details"),o.a.createElement(S.a,{style:{margin:10,marginTop:30},label:"Title",variant:"outlined",onChange:function(e){n.title=e.target.value}}),o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",width:300,marginTop:30}},l.map((function(e,t){return o.a.createElement(ke.a,{style:{margin:10},icon:"number"==e.type?o.a.createElement(Te.a,null):o.a.createElement(Re.a,null),label:e.name,color:"secondary",onDelete:function(){l.splice(t,1),i(l)}})}))),o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",flexGrow:1,marginTop:20}},o.a.createElement(M.a,{variant:"h5"},"Make Candidate Input Fields"),o.a.createElement("div",{style:{display:"flex",marginTop:10,marginBottom:10}},o.a.createElement(S.a,{style:{marginRight:10,width:150},select:!0,onChange:function(e){g(e.target.value)},variant:"outlined",label:"Input Type",helpderText:"Please select number or text"},o.a.createElement(Ie.a,{value:"number"},"Number"),o.a.createElement(Ie.a,{value:"text"},"Text")),o.a.createElement(S.a,(t={style:{width:250},label:"Field Name",variant:"outlined"},Object(Oe.a)(t,"style",{}),Object(Oe.a)(t,"onChange",(function(e){m(e.target.value)})),t))),o.a.createElement("div",null,o.a.createElement(j.a,{onClick:function(){l.push({name:u,type:p}),n.fields=l,m(""),g("")},variant:"contained",color:"primary"},o.a.createElement(De.a,null)," Add"))),o.a.createElement(O.a,{variant:"outlined",style:{marginTop:30}},o.a.createElement(k.a,null,"Password"),o.a.createElement(I.a,{type:h?"text":"password",onChange:function(e){n.password=e.target.value},endAdornment:o.a.createElement(T.a,{position:"end"},o.a.createElement(R.a,{onClick:function(){return x(!h)},edge:"end"},h?o.a.createElement(D.a,null):o.a.createElement(P.a,null)))})))})),Ge=n(252),_e=Object(E.h)((function(e){var t=e.icon,n=e.text,a=e.onClick;return o.a.createElement(Ge.a,{variant:"extended",color:"secondary",style:{position:"absolute",bottom:30,right:30},onClick:a},o.a.createElement(t,null),n)}));var Ae=Object(E.h)((function(e){var t=o.a.useState(!1),n=Object(d.a)(t,2),a=n[0],r=n[1],l={title:"",fields:{},password:""};return o.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"column",alignContent:"center",margin:20}},o.a.createElement(M.a,{variant:"h4"},"Create Room"),o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(Pe,{data:l})),o.a.createElement(_e,{icon:Se.a,text:"Create",onClick:function(){""!=l.title&&l.fields!={}&&""!=l.password?function(e){console.log("Data",JSON.stringify(e));var t={method:"POST",headers:{token:z.getToken(),"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch(N.createRoom,t)}(l).then((function(e){return e.json()})).then((function(t){t.success?(console.log("Room Created!",t.room),e.history.push("../room/"+t.room._id)):console.log("Error",t.msg)})).catch((function(e){console.log("Error",e)})):r(!0)}}),o.a.createElement(re.a,{open:a,message:"Please fill all the entries!",onClose:function(){return r(!1)}}))})),Ne=n(254),Je=Object(E.h)((function(e){var t=e.room,n=e.history;return o.a.createElement(Ne.a,null,o.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:10}},o.a.createElement(M.a,{style:{margin:10}},"Room Id = ",t._id),o.a.createElement(M.a,{style:{margin:10}},"Password = ",t.password),o.a.createElement(M.a,{style:{magrin:10,fontSize:20,fontFamily:"Roboto-Black"}},"Title = ",t.title),o.a.createElement(j.a,{onClick:function(){n.push("./room/"+t._id)},style:{margin:10},variant:"contained",color:"primary"},"Enter Room")))}));var Le=Object(E.h)((function(e){var t=o.a.useState([]),n=Object(d.a)(t,2),r=n[0],l=n[1];return Object(a.useEffect)((function(){(function(){var e={method:"GET",headers:{token:z.getToken(),"Content-Type":"application/json"}};return fetch(N.getRoomsByInterviewer,e)})().then((function(e){return e.json()})).then((function(e){e.success&&l(e.rooms)}))}),[1]),o.a.createElement("div",{style:{margin:20}},o.a.createElement(M.a,{variant:"h4"},"Your Rooms"),o.a.createElement("div",{style:{display:"flex",margin:20}},r.map((function(e,t){return o.a.createElement("div",{style:{display:"flex",margin:10}},o.a.createElement(Je,{room:e}))}))),o.a.createElement(_e,{icon:De.a,text:"Add Interview Room",onClick:function(){e.history.push("createRoom")}}))}));var We=Object(E.h)((function(e){var t=e.data,n=(e.history,o.a.useState(!1)),a=Object(d.a)(n,2),r=a[0],l=a[1];return o.a.createElement("div",{style:{margin:20}},o.a.createElement(M.a,{variant:"h4"},"Profile"),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexWrap:"wrap",margin:"auto",alignContent:"center",marginTop:40}},o.a.createElement(de,{data:t,onSubmit:function(e){console.log("Token",z.getToken()),Z(e).then((function(e){return e.json()})).then((function(e){return $().then((function(e){return e.json()}))})).then((function(e){e.success?(console.log("Response",e),z.setProfileData(e.profile),z.userExists(!0),l(!0)):console.log("Error",e.msg)})).catch((function(e){console.log("Error",e)}))}})),o.a.createElement(re.a,{open:r,message:"Profile updated Successfully!",onClose:function(){l(!1)}}))})),ze=n(123),Be=n.n(ze)()(v);function Fe(e){var t=e.open,n=e.requests,r=e.onAccept,l=e.onReject,i=e.onClose,c=e.anchor;return Object(a.useEffect)((function(){console.log("Requests",n)}),[1]),o.a.createElement("div",null,o.a.createElement(pe.a,{open:t,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:i,style:{padding:20},anchorEl:c},o.a.createElement("div",{style:{margin:20}},o.a.createElement("div",null,"Room Requests"),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:20}},n.map((function(e,t){return o.a.createElement("div",null,"Request by - ",e.email,o.a.createElement("br",null),"Room Id - ",e.room,o.a.createElement("br",null),o.a.createElement(j.a,{onClick:function(){r(e)}},"Accept"),o.a.createElement(j.a,{onClick:function(){return l(e)}},"Reject"))}))))))}Be.connect(),Be.on("connection",(function(){}));var qe=Object(E.h)((function(e){var t=e.history,n=o.a.useState({}),r=Object(d.a)(n,2),l=(r[0],r[1],o.a.useState([])),i=Object(d.a)(l,2),c=i[0],s=i[1],u=o.a.useState(null),m=Object(d.a)(u,2),f=m[0],E=m[1];Object(a.useEffect)((function(){console.log("Id",z.getProfileData()),Be.on("interviewer_wait/"+z.getProfileData()._id,(function(e){console.log("Request",e),s([].concat(Object(Ee.a)(c),[e]))}))}),[1]);return o.a.createElement(ge.a,{position:"static",style:{maxHeight:130}},o.a.createElement(ve.a,{style:{padding:10}},o.a.createElement("div",null,o.a.createElement("img",{src:je.a,style:{height:100,width:100}})),o.a.createElement(M.a,{variant:"h3",style:{fontFamily:"Roboto-Black",flexGrow:1,margin:20}},z.getProfileData().name),o.a.createElement(M.a,{variant:"h6",style:{fontFamily:"Roboto-Black",flexGrow:1,margin:20,color:"#000000"}},z.getProfileData().company),o.a.createElement("div",null,o.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(){t.push("../")}},o.a.createElement(he.a,null)),o.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(){window.open(z.getProfileData().website,"_blank")}},o.a.createElement(xe.a,null)),o.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(){t.push("./profile")}},o.a.createElement(be.a,null)),o.a.createElement(R.a,{size:"medium",color:"inherit",onClick:function(e){E(e.currentTarget)}},o.a.createElement(ye.a,{badgeContent:c.length,color:"secondary"},o.a.createElement(Ce.a,null))),o.a.createElement(Y.GoogleLogout,{clientId:p,render:function(e){return o.a.createElement(j.a,{color:"inherit",onClick:e.onClick,disabled:e.disabled},"Logout")},onLogoutSuccess:function(){z.clearUser(),t.push("../")}}),o.a.createElement(Fe,{anchor:f,onAccept:function(t){Be.emit("interviewer_accept",{room:t.room,interviewer:z.getProfileData()._id,res:!0}),function(e){var t={method:"POST",headers:{token:z.getToken(),room:e,"Content-Type":"application/json"}};return fetch(N.addInterviewer,t)}(t.room).then((function(e){return e.json()})).then((function(n){n.success&&e.history.push("room/"+t.room)}))},onReject:function(e){Be.emit("interviewer_accept",{room:e.room,interviewer:z.getProfileData()._id,res:!1})},requests:c,open:Boolean(f),onClose:function(){E(null)}}))))}));var Ue=Object(E.h)((function(e){var t=o.a.useState("Home"),n=Object(d.a)(t,2);return n[0],n[1],o.a.createElement("div",{className:"root"},o.a.createElement(X,null),o.a.createElement(f.a,{basename:"/interviewer"},o.a.createElement(qe,null),o.a.createElement(E.d,null,o.a.createElement(E.b,{exact:!0,path:"/",component:Le}),o.a.createElement(E.b,{path:"/createRoom",component:Ae}),o.a.createElement(E.b,{path:"/profile"},o.a.createElement(We,{data:z.getProfileData()})))))})),Me=n(262),Ve=function(e){return fetch(J.getCandidate,{method:"GET",headers:{candidate:e,Accept:"application/json"}})};var He=Object(E.h)((function(e){var t,n=o.a.useState([]),r=Object(d.a)(n,2),l=r[0],i=r[1],c=(B.getRoomId(),o.a.useState({})),s=Object(d.a)(c,2),u=s[0],m=s[1],f=o.a.useState(!1),E=Object(d.a)(f,2),p=E[0],g=E[1],v=o.a.useState(!1),y=Object(d.a)(v,2),h=y[0];return y[1],Object(a.useEffect)((function(){B.candidateExists()&&(console.log("Candidate Detected!"),console.log("CandidateId",B.getCandidateId()),function(){var e={method:"GET",headers:{candidate:B.getCandidateId(),Accept:"application/json"}};return fetch(J.getCandidate,e)}().then((function(e){return e.json()})).then((function(e){console.log(e.candidate),e.success&&m(e.candidate.details)})).catch((function(e){console.log("Error",e)}))),F(B.getRoomId()).then((function(e){return e.json()})).then((function(e){console.log("Response",e),e.success&&(t=e.room,i(t.fields))}))}),[1]),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexWrap:"wrap",alignContent:"center"}},o.a.createElement("div",{style:{fontSize:30,textAlign:"center"}},"Candidate Details"),l.map((function(e,t){return o.a.createElement(S.a,{style:{marginTop:10},label:e.name,variant:"outlined",defaultValue:u[e.name],onChange:function(t){u[e.name]=t.target.value},inputMode:"number"==e.type?"decimal":"text"})})),o.a.createElement(j.a,{color:"primary",variant:"contained",style:{marginTop:10},onClick:function(){console.log("Data",u),B.candidateExists()?function(e){var t={method:"POST",headers:{candidate:B.getCandidateId(),"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch(J.updateCandidate,t)}(u).then((function(e){return e.json()})).then((function(e){e.success&&g(!0)})).catch((function(e){console.log("Error",e)})):function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch(J.createCandidate,t)}(u).then((function(e){return e.json()})).then((function(e){e.success?(g(!0),console.log("Candidate created successfully"),console.log("Response",e.candidate._id),B.setCandidateId(e.candidate._id)):console.log("Error",e.msg)})).catch((function(e){console.log("Error",e)}))},anch:!0},"Submit Details"),o.a.createElement(re.a,{open:p,message:"Details Submitted Successfully!",autoHideDuration:3e3,onClose:function(){g(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"}}),o.a.createElement(re.a,{open:h,message:"Fill all the details!",onClose:function(){return h(!1)}}))}));function Ye(e){var t=e.open,n=e.onCancle;return o.a.createElement("div",null,o.a.createElement(x.a,{open:t},o.a.createElement(b.a,null,"Waiting for the interviewer to let you in"),o.a.createElement(C.a,null,o.a.createElement(oe.a,{variant:"indeterminate",size:100,style:{margin:"auto"}})),o.a.createElement(w.a,null,o.a.createElement(j.a,{onClick:n},"Cancle"))))}var Ke=Object(E.h)((function(e){var t=B.getRoomId(),n=o.a.useState(!1),a=Object(d.a)(n,2),r=a[0],l=a[1],i=o.a.useState(!1),c=Object(d.a)(i,2),s=c[0],u=c[1];return o.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"}},o.a.createElement(X,null),o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement("div",{style:{fontSize:50,textAlign:"center"}},"Interview Title"),o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement("div",{style:{fontSize:20,textAlign:"center"}},"Room Id -"),o.a.createElement("div",{style:{fontSize:20,textAlign:"center"}},B.getRoomId()),o.a.createElement(j.a,{onClick:function(){navigator.clipboard.writeText(B.getRoomId())}},o.a.createElement(Me.a,null)))),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignContent:"center"}},o.a.createElement(He,null)),o.a.createElement(Ge.a,{variant:"extended",color:"secondary",style:{position:"absolute",bottom:30,right:30},onClick:function(){if(!B.candidateExists())return u(!0),!1;l(!0),console.log("Room",t),Be.emit("request",{room:t,candidate:B.getCandidateId(),waiting:!0}),Be.on("waitResponse/"+t,(function(t){console.log("Response",t),l(!1),e.history.push("../candidate/room/"+B.getRoomId())}))}},"Join Room"),o.a.createElement(Ge.a,{variant:"extended",style:{position:"absolute",bottom:30,left:30},onClick:function(){B.clearCandidate(),e.history.push("../")}},"Leave Room"),o.a.createElement(Ye,{open:r,onCancle:function(){l(!1),Be.emit("request",{room:t,candidate:B.getCandidateId(),waiting:!1})}}),o.a.createElement(re.a,{message:"Please enter the details!",open:s,onClose:function(){return u(!1)}}))})),Xe=n(263),Ze=n(264),$e=n(124),Qe=n.n($e),et=(n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),["Java","C++14","JavaScript","Python"]),tt=["java","c_cpp","javascript","python"],nt=["kuroir","monokai"];function at(e){e.code,e.lang;var t=o.a.useState(""),n=Object(d.a)(t,2),a=(n[0],n[1]),r=o.a.useState(""),l=Object(d.a)(r,2),i=l[0];l[1];return o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement("div",{style:{display:"flex",flexGrow:1}},o.a.createElement(S.a,{style:{display:"flex",flexGrow:1,minHeight:100,margin:10},label:"Inputs",variant:"outlined",onChange:function(e){a(e.target.value)}}),o.a.createElement("div",{style:{borderStyle:"solid",borderRadius:10,margin:10,minHeight:100,minWidth:400}},o.a.createElement(M.a,null,"Outputs"),i)),o.a.createElement("div",{style:{margin:10}},o.a.createElement(j.a,{onClick:function(){},variant:"outlined",color:"primary"},"Compile"),o.a.createElement(j.a,{onClick:function(){},variant:"outlined",color:"primary",style:{marginLeft:20}},"Run")))}var ot=function(e){var t,n=e.roomId,r=o.a.useState(""),l=Object(d.a)(r,2),i=l[0],c=l[1];t=B.candidateExists()?B.getCandidateId():z.getProfileData()._id;var s=o.a.useState(0),u=Object(d.a)(s,2),m=u[0],f=u[1],E=o.a.useState(0),p=Object(d.a)(E,2),g=p[0],v=p[1],y=o.a.useState(14),h=Object(d.a)(y,2),x=h[0];return h[1],Object(a.useEffect)((function(){F(n).then((function(e){return e.json()})).then((function(e){console.log("Response",e),e.success?(c(e.room.code),Be.on(n+"/updateCode",(function(e){console.log("Data Received",e),e.sender!=t&&(c(e.code),f(e.language))}))):console.log("Error",e.msg)})).catch((function(e){console.log("Error",e)}))}),[1]),o.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"column",borderStyle:"solid",borderRadius:10,padding:10}},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(M.a,{style:{display:"flex",flexGrow:1,fontSize:30}},"Code Editor"),o.a.createElement(S.a,{style:{minWidth:400,margin:10},select:!0,value:m,onChange:function(e){f(e.target.value),Be.emit("code",{code:i,language:e.target.value,room:n})},label:"Language",variant:"outlined"},et.map((function(e,t){return o.a.createElement(Ie.a,{value:t,key:t},e)}))),o.a.createElement(R.a,{onClick:function(){console.log("Theme",g),v(0==g?1:0)},style:{margin:10}},g?o.a.createElement(Xe.a,null):o.a.createElement(Ze.a,null))),o.a.createElement("div",{style:{display:"flex",flexGrow:1,margin:10}},o.a.createElement(Qe.a,{style:{display:"flex",flexGrow:1,width:"100%",height:"100%"},placeholder:"Type Code Here",mode:tt[m],theme:nt[g],onChange:function(e){c(e),Be.emit("code",{code:e,language:m,room:n,sender:t})},fontSize:x,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!1,value:i,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!1,showLineNumbers:!0,tabSize:2}})),o.a.createElement(at,{code:i,lang:m}))};var rt=function(e){var t=e.title;return o.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"column"}},o.a.createElement(M.a,{variant:"h2"},t),o.a.createElement(oe.a,{variant:"indeterminate",size:50}))},lt=n(265),it=n(266),ct=n(267),st=n(268),ut=n(269),mt=["Jan","Feb","Mar","Apr","May","June","Jul","Aug","Sept","Oct","Nov","Dec"];function dt(e){var t,n=e.chat,r="#c2cbff";n.isCandidate&&(r="#9effb8"),t=(z.getProfileData()?n.sender==z.getProfileData()._id:!!n.isCandidate)?"auto":0;var l=o.a.useState({}),i=Object(d.a)(l,2),c=i[0],s=i[1];Object(a.useEffect)((function(){n.isCandidate||(console.log("Chat",n),Q(n.sender).then((function(e){return e.json()})).then((function(e){e.success&&s(e.interviewer)})))}),[1]);return o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",margin:10,marginLeft:t}},o.a.createElement(Ne.a,{variant:"contained",style:{backgroundColor:r}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement("div",{style:{margin:10}},n.isCandidate?o.a.createElement(M.a,{style:{fontSize:10}},"Candidate"):o.a.createElement(M.a,{style:{fontSize:10}},c.name)),o.a.createElement(M.a,{style:{marginLeft:10,marginRight:10}},n.message),n.media?o.a.createElement(R.a,{onClick:function(){ce(n.media).then((function(e){window.open(e,"_blank")}))}},o.a.createElement(lt.a,null)):o.a.createElement("div",null),o.a.createElement(M.a,{style:{display:"flex",margin:10,fontSize:10}},function(e){var t=new Date(e),n=t.getHours()+1,a=(t.getMinutes()+1)%60;return t.getDate()+" "+mt[t.getMonth()]+" "+t.getFullYear()+" / "+n+":"+a}(n.createdAt)))))}function ft(e){var t,n=e.roomId,r=e.isCandidate,l=o.a.useState(""),i=Object(d.a)(l,2),c=i[0],s=i[1],u=o.a.useState(""),m=Object(d.a)(u,2),f=m[0],E=m[1],p=o.a.useState(!1),g=Object(d.a)(p,2),v=g[0],y=g[1];t=r?B.getCandidateId():z.getProfileData()._id;return Object(a.useEffect)((function(){}),[1]),o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement("div",{style:{display:"flex",margin:10}},o.a.createElement(S.a,{value:c,label:"Type Message",style:{display:"flex",flexGrow:1,marginRight:10},onChange:function(e){s(e.target.value)},variant:"outlined"}),o.a.createElement(j.a,{onClick:function(){var e={room:n,message:c,media:f,isCandidate:r,sender:t};console.log("Chat",e),Be.emit("chat_receive",e),s("")},variant:"contained",color:"primary",style:{display:"flex",flexWrap:"wrap"},endIcon:o.a.createElement(it.a,null)},"Send")),o.a.createElement("div",{style:{display:"flex",margin:10}},o.a.createElement(ct.a,null),o.a.createElement(ae.a,{type:"file",onChange:function(e){y(!0);var t=e.target.files[0],a="room/chat/"+n+(new Date).getTime();ie(t,a).then((function(e){y(!1),E(a)}))}}),v?o.a.createElement(oe.a,null):o.a.createElement("div",null),f?o.a.createElement(R.a,{onClick:function(){E("")}},o.a.createElement(st.a,null)):o.a.createElement("div",null)))}var Et=Object(E.h)((function(e){var t=e.roomId,n=e.isCandidate,r=e.onClose,l=o.a.useState([]),i=Object(d.a)(l,2),c=i[0],s=i[1];return Object(a.useEffect)((function(){(function(e){return fetch(L.getChats,{method:"GET",headers:{room:e,"Content-Type":"application/json"}})})(t).then((function(e){return e.json()})).then((function(e){console.log("Chat Response",e),e.success&&(null==e.chats&&(e.chats=[]),e.chats.map((function(e,t){c=c.concat(e),s(c)})),Be.on("chat_send/"+t,(function(e){c=c.concat(e),s(c)})))}))}),[1]),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:5,padding:10,borderStyle:"solid",borderRadius:10}},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{display:"flex",flexGrow:1}},o.a.createElement(M.a,{variant:"h4"},"Chat Window")),o.a.createElement(R.a,{onClick:function(){return r()}},o.a.createElement(ut.a,null))),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:1,height:0,overflowY:"scroll",scrollSnapAlign:"y proximity"}},c.map((function(e,t){return o.a.createElement(dt,{chat:e})}))),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(ft,{roomId:t,isCandidate:n})))})),pt=n(277),gt=n(81),vt=n.n(gt),yt=n(82),ht=n.n(yt);function xt(e){var t=e.roomId,n=e.interviewerId,r=(e.isLive,o.a.useState({})),l=Object(d.a)(r,2),i=l[0],c=l[1],s=o.a.useState(!1),u=Object(d.a)(s,2),m=u[0],f=u[1],E=!1;return B.candidateExists()?E=!1:n==z.getProfileData()._id&&(E=!0),Object(a.useEffect)((function(){Q(n).then((function(e){return e.json()})).then((function(e){e.success&&(console.log("Interviewer",e),c(e.interviewer))})),Be.on("interviewer_status/"+t,(function(e){e.interviewer==n&&(e.joined?f(!0):f(!1))}))}),[1]),o.a.createElement(pt.a,{borderColor:"primary"},E?o.a.createElement("div",null):o.a.createElement(Ne.a,{style:{margin:10},variant:"outlined"},m?o.a.createElement("div",null,o.a.createElement("img",{src:vt.a,style:{height:20,width:20}})," Online"):o.a.createElement("div",null,o.a.createElement("img",{src:ht.a,style:{height:20,width:20}})," Offline"),o.a.createElement(M.a,{style:{margin:10}},i.name),o.a.createElement(M.a,{style:{margin:10}},i.email)))}function bt(e){var t=e.roomId,n=e.open,a=e.onClose,r=e.onAccept,l=o.a.useState(""),i=Object(d.a)(l,2),c=i[0],s=i[1],u=o.a.useState(!1),m=Object(d.a)(u,2),f=m[0],E=m[1],p=o.a.useState(!1),g=Object(d.a)(p,2),v=g[0],y=g[1],h=o.a.useState(""),x=Object(d.a)(h,2),b=x[0],C=x[1];return o.a.createElement("div",null,n?o.a.createElement(Ne.a,{style:{width:500}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:10}},o.a.createElement(M.a,{style:{fontFamily:"Roboto-Black"}},"Enter the emailId of interviewer"),o.a.createElement(S.a,{style:{margin:10},label:"Email Id",onChange:function(e){s(e.target.value)},variant:"outlined"}),f?o.a.createElement("div",{style:{display:"flex"}},"Waiting ",o.a.createElement("br",null),o.a.createElement(oe.a,{style:{marginLeft:20}})):o.a.createElement("div",null),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(j.a,{onClick:function(){Be.emit("request_interviewer",{room:t,email:c}),E(!0),Be.on("interviewer_wait_response/"+t,(function(e){e.res?r(e.interviewer._id):(C(e.msg),y(!0)),a(),E(!1)}))},color:"primary",variant:"outlined",style:{margin:10}},"Request"),o.a.createElement(j.a,{onClick:function(){a()},color:"primary",variant:"outlined",style:{margin:10}},"Cancle")))):o.a.createElement("div",null),o.a.createElement(re.a,{open:v,onClose:function(){return y(!1)},message:b}))}var Ct=function(e){var t=e.roomId,n=e.isCandidate,r=e.onClose,l=o.a.useState([]),i=Object(d.a)(l,2),c=i[0],s=i[1],u=o.a.useState({}),m=Object(d.a)(u,2),f=(m[0],m[1]),E=o.a.useState(!1),p=Object(d.a)(E,2),g=p[0],v=p[1];return Object(a.useEffect)((function(){F(t).then((function(e){return e.json()})).then((function(e){e.success&&(f(e.room),s(e.room.interviewers),console.log("Room",e.room))}))}),[1]),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:1,borderStyle:"solid",borderRadius:10,padding:10}},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{display:"flex",flexGrow:1}},o.a.createElement(M.a,{variant:"h4",style:{marginRight:10}},"Interviewer Window"),n?o.a.createElement("div",null):o.a.createElement(j.a,{color:"primary",variant:"contained",onClick:function(){v(!0)}},"Add Interviewer")),o.a.createElement(R.a,{onClick:function(){r()}},o.a.createElement(ut.a,null))),o.a.createElement(bt,{roomId:t,open:g,onClose:function(){v(!1)},onAccept:function(e){s([].concat(Object(Ee.a)(c),[e]))}}),o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex"}},c.map((function(e,n){return o.a.createElement("div",null,o.a.createElement(xt,{roomId:t,interviewerId:e}))})))))},wt=n(270),jt=n(271),St=n(272);function Ot(e){var t=e.onButtonClick;return o.a.createElement(Ne.a,null,o.a.createElement(R.a,{onClick:function(){t(0)}},o.a.createElement(wt.a,null)),o.a.createElement(R.a,{onClick:function(){return t(1)}},o.a.createElement(jt.a,null)),o.a.createElement(R.a,{onClick:function(){return t(2)}},o.a.createElement(St.a,null)),o.a.createElement(j.a,{onClick:function(){return t(3)}},"Leave Room"))}var kt=Object(E.h)((function(e){var t=Object(E.g)().id,n=t,r=e.history,l=o.a.useState(!1),i=Object(d.a)(l,2),c=i[0],s=i[1],u=o.a.useState(!1),m=Object(d.a)(u,2),f=m[0],p=m[1];return Object(a.useEffect)((function(){Be.on("interviewer_disconnect/"+n,(function(e){r.push("../../")}));var e=setInterval((function(){Be.emit("candidate_status",{room:t,joined:!0})}),1e3);return window.addEventListener("beforeunload",(function(n){Be.emit("candidate_status",{room:t,joined:!1}),clearInterval(e)})),function(){clearInterval(e),Be.emit("candidate_status",{room:t,joined:!1})}})),o.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"column"},className:"root"},o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement("div",{style:{display:"flex",flexGrow:1,flexWrap:"wrap"}},o.a.createElement(M.a,{variant:"h4"},"Candidate Room"),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexGrow:1}},o.a.createElement("div",{style:{fontSize:20,textAlign:"center"}},"Copy Room Id"),o.a.createElement(j.a,{onClick:function(){navigator.clipboard.writeText(n)}},o.a.createElement(Me.a,null)))),o.a.createElement("div",{style:{margin:10}},o.a.createElement(Ot,{onButtonClick:function(n){0==n?s(!0):1==n?p(!0):2==n?(Be.emit("candidate_status",{room:t,joined:!1}),r.push("../../")):3==n&&(B.clearCandidate(),e.history.push("../../"),Be.emit("candidate_status",{room:t,joined:!1}))}}))),o.a.createElement("div",{style:{display:"flex",flexGrow:1}},o.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"column"}},o.a.createElement("div",{style:{display:"flex",flexGrow:1,margin:20}},o.a.createElement(ot,{roomId:n})),f?o.a.createElement("div",{style:{display:"flex",padding:5,margin:5}},o.a.createElement(Ct,{roomId:n,isCandidate:!0,onClose:function(){p(!1)}})):o.a.createElement("div",null)),o.a.createElement("div",{style:{display:"flex"}},c?o.a.createElement(Et,{roomId:n,isCandidate:!0,onClose:function(){s(!1)}}):o.a.createElement("div",null))))})),It=n(274),Tt=n(208);var Rt=function(e){var t=e.roomId,n=e.onClose,r=o.a.useState(""),l=Object(d.a)(r,2),i=l[0],c=l[1];return Object(a.useEffect)((function(){(function(e){var t={method:"GET",headers:{token:z.getToken(),room:e,"Content-Type":"application/json"}};return fetch(W.getNotes,t)})(t).then((function(e){return e.json()})).then((function(e){e.success&&e.note&&c(e.note.note)}))}),[1]),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:1,margin:5,padding:10,borderStyle:"solid",borderRadius:10}},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{display:"flex",flexGrow:1}},o.a.createElement(M.a,{variant:"h4"},"Notes Window")),o.a.createElement(R.a,{onClick:function(){return n()}},o.a.createElement(ut.a,null))),o.a.createElement(Tt.a,{defaultValue:i,onChange:function(e){var n=e.target.value;(function(e,t){var n={method:"POST",headers:{token:z.getToken(),room:e,"Content-Type":"application/json"},body:JSON.stringify({note:t})};return fetch(W.updateNotes,n)})(t,n).then((function(e){return e.json()})).then((function(e){}))}}))},Dt=n(273);function Pt(e){var t=e.isJoined;return o.a.createElement("div",null,t?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("img",{src:vt.a,style:{height:20,width:20}}),o.a.createElement(M.a,null,"Candidate is Online")):o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("img",{src:ht.a,style:{height:20,width:20}}),o.a.createElement(M.a,null,"Candidate is Offline")))}function Gt(e){var t=e.onButtonClick,n=e.candidateId,a=e.joined,r=o.a.useState(null),l=Object(d.a)(r,2),i=l[0],c=l[1],s=o.a.useState([]),u=Object(d.a)(s,2),m=u[0],f=u[1];return o.a.createElement(Ne.a,null,a?o.a.createElement(R.a,{onClick:function(e){c(e.currentTarget),Ve(n).then((function(e){return e.json()})).then((function(e){if(e.success){for(var t=[],n=0,a=Object.entries(e.candidate.details);n<a.length;n++){var o=Object(d.a)(a[n],2),r=o[0],l=o[1];t.push([r,l])}f(t)}}))}},o.a.createElement(Dt.a,null)):o.a.createElement("div",null),o.a.createElement(R.a,{onClick:function(){t(0)}},o.a.createElement(wt.a,null)),o.a.createElement(R.a,{onClick:function(){return t(1)}},o.a.createElement(jt.a,null)),o.a.createElement(R.a,{onClick:function(){return t(4)}},o.a.createElement(It.a,null)),o.a.createElement(R.a,{onClick:function(){return t(2)}},o.a.createElement(St.a,null)),o.a.createElement(j.a,{onClick:function(){return t(3)}},"Leave Room"),o.a.createElement(pe.a,{open:Boolean(i),anchorEl:i,onClose:function(){c(null)}},o.a.createElement("div",{style:{margin:20}},m.map((function(e,t){return o.a.createElement("div",null,e[0],"  =  ",e[1])})))))}var _t=Object(E.h)((function(e){var t=e.roomId,n=e.candidateJoined,a=e.history,r=e.candidateId,l=o.a.useState(!1),i=Object(d.a)(l,2),c=i[0],s=i[1],u=o.a.useState(!1),m=Object(d.a)(u,2),f=m[0],E=m[1],p=o.a.useState(!1),g=Object(d.a)(p,2),v=g[0],y=g[1],h=function(){(function(e){var t={method:"POST",headers:{token:z.getToken(),room:e,"Content-Type":"application/json"}};return fetch(N.removeInterviewer,t)})(t).then((function(e){return e.json()})).then((function(e){e.success&&a.push("../../")})),Be.emit("interviewer_status",{room:t,joined:!1,interviewer:z.getProfileData()._id})};return o.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"column"},className:"root"},o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement("div",{style:{display:"flex",flexGrow:1,flexWrap:"wrap"}},o.a.createElement(M.a,{variant:"h4"},"Interviewer Room"),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexGrow:1}},o.a.createElement("div",{style:{fontSize:20,textAlign:"center"}},"Room Id"),o.a.createElement(j.a,{onClick:function(){navigator.clipboard.writeText(t)}},o.a.createElement(Me.a,null)))),o.a.createElement("div",{style:{display:"flex",margin:10}},o.a.createElement(Pt,{isJoined:n})),o.a.createElement("div",{style:{margin:10}},o.a.createElement(Gt,{onButtonClick:function(e){0==e?s(!0):1==e?E(!0):2==e?(Be.emit("interviewer_status",{room:t,joined:!1,interviewer:z.getProfileData()._id}),a.push("../../")):3==e?h():4==e&&y(!0)},joined:n,candidateId:r}))),o.a.createElement("div",{style:{display:"flex",flexGrow:1}},o.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"column"}},o.a.createElement("div",{style:{display:"flex",flexGrow:1,margin:10}},o.a.createElement(ot,{roomId:t})),f?o.a.createElement("div",{style:{display:"flex",padding:5,margin:5}},o.a.createElement(Ct,{roomId:t,isCandidate:!1,onClose:function(){E(!1)}})):o.a.createElement("div",{style:{display:"flex"}})),o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},v?o.a.createElement("div",{style:{display:"flex",flexGrow:1}},o.a.createElement(Rt,{roomId:t,onClose:function(){y(!1)}})):o.a.createElement("div",null),c?o.a.createElement("div",{style:{display:"flex",flexGrow:2}},o.a.createElement(Et,{roomId:t,isCandidate:!1,onClose:function(){s(!1)}})):o.a.createElement("div",null))))}));function At(e){var t=e.onDecline,n=e.onAccept,a=e.candidateInfo,r=e.open;return o.a.createElement("div",null,o.a.createElement(x.a,{open:r},o.a.createElement(b.a,null,"A candidate is requesting to join room "),o.a.createElement(C.a,null,o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.map((function(e,t){return o.a.createElement(M.a,null,e)})))),o.a.createElement(w.a,null,o.a.createElement(j.a,{onClick:n},"Accept"),o.a.createElement(j.a,{onClick:t},"Decline"))))}var Nt=Object(E.h)((function(e){var t=Object(E.g)().id,n=o.a.useState(!1),r=Object(d.a)(n,2),l=r[0],i=r[1],c=o.a.useState(""),s=Object(d.a)(c,2),u=s[0],m=s[1],f=o.a.useState(!1),p=Object(d.a)(f,2),g=p[0],v=p[1],y=o.a.useState(!1),h=Object(d.a)(y,2),x=h[0],b=h[1],C=o.a.useState([]),w=Object(d.a)(C,2),j=w[0],S=w[1],O=o.a.useState({}),k=Object(d.a)(O,2);return k[0],k[1],Object(a.useEffect)((function(){(function(e){var t={method:"GET",headers:{token:z.getToken(),room_id:e,"Content-Type":"application/json"}};return fetch(N.checkInterviewer,t)})(t).then((function(e){return e.json()})).then((function(t){console.log("Response",t),t.success&&t.exists?i(!0):e.history.push("../../")})),Be.on("wait/"+t,(function(e){e.room;var t=e.candidate,n=e.waiting;console.log("Received Request",e),Ve(t).then((function(e){return e.json()})).then((function(e){if(e.success){for(var t=[],n=0,a=Object.entries(e.candidate.details);n<a.length;n++){var o=Object(d.a)(a[n],2),r=o[0]+" = "+o[1];t.push(r)}console.log("Info",t),S(t)}})),v(!!n),m(t)})),Be.on("candidate_status/"+t,(function(e){e.joined?b(!0):b(!1)}));var n=setInterval((function(){Be.emit("interviewer_status",{room:t,joined:!0,interviewer:z.getProfileData()._id})}),1e3);return window.addEventListener("beforeunload",(function(e){Be.emit("interviewer_status",{room:t,joined:!1,interviewer:z.getProfileData()._id}),clearInterval(n)})),function(){Be.emit("interviewer_status",{room:t,joined:!1,interviewer:z.getProfileData()._id}),clearInterval(n)}}),[]),o.a.createElement("div",{className:"root"},l?o.a.createElement(_t,{candidateJoined:x,candidateId:u,roomId:t}):o.a.createElement(rt,{title:"Checking the interviewer"}),o.a.createElement(At,{open:g,onAccept:function(){Be.emit("accept",{room:t,candidate:u,res:!0}),v(!1),b(!0)},onDecline:function(){Be.emit("accept",{room:t,candidate:u,res:!1}),v(!1)},candidateInfo:j}))}));var Jt=function(e){var t=o.a.useState(0),n=Object(d.a)(t,2);return n[0],n[1],Object(a.useEffect)((function(){}),[1]),o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(E.d,null,o.a.createElement(E.b,{path:"/register"},o.a.createElement(fe,null)),o.a.createElement(E.b,{path:"/interviewer/room/:id"},o.a.createElement(Nt,null)),o.a.createElement(E.b,{path:"/candidate/room/:id"},o.a.createElement(kt,null)),o.a.createElement(E.b,{path:"/interviewer"},o.a.createElement(Ue,null)),o.a.createElement(E.b,{path:"/joinRoom"},o.a.createElement(Ke,null)),o.a.createElement(E.b,{path:"/"},o.a.createElement(ne,null)))))};var Lt=function(){return o.a.createElement(i.a,{theme:m},o.a.createElement(Jt,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Lt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t,n){},81:function(e,t,n){e.exports=n.p+"static/media/live.f8e19943.png"},82:function(e,t,n){e.exports=n.p+"static/media/offline.e5e001a4.png"}},[[140,1,2]]]);
//# sourceMappingURL=main.1122b97e.chunk.js.map